import{y as W,d as _,o,e as l,b as a,w as n,a as t,f as b,u as r,g as w,t as i,F as $,h as B,p as N,A as U,n as D,i as X,c as z,G as Y,H as Z}from"./app-DuCM5fMY.js";import{u as ee}from"./appstore-i93wDcAb.js";import te from"./table_head_col_choose-Bsndw3iA.js";import se from"./table_col_action-CN12DSrL.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{B as ne}from"./index-lgGGxHJv.js";import{S as oe}from"./SaveOutlined-C-xOJ6-3.js";import{E}from"./EditOutlined-CQNci86I.js";import{M as le}from"./MoreOutlined-Dn8n-63j.js";import{B as re}from"./index-XB80zlEa.js";import{_ as _e}from"./index-BfPfFT6o.js";import{_ as ie}from"./index-RfeOYOn2.js";import{_ as ce}from"./index-D9SNFcq0.js";import{_ as de}from"./index-C6upw1zv.js";import"./LoadingOutlined-C7QN_DUS.js";import"./AntdIcon-9khPcjWE.js";import"./CloseOutlined-CxVmtEZu.js";import"./ExclamationCircleFilled-B0V7oa9j.js";import"./CloseCircleFilled-BQZlZZal.js";import"./EyeOutlined-CMaT_qmz.js";import"./DeleteOutlined-B394q2Md.js";import"./useState-BLwVHUq_.js";import"./motion-DAWOpLEP.js";import"./Ribbon-Tv3FPnrK.js";import"./index-CLPL0Y6L.js";import"./KeyCode-B_gOgbN6.js";import"./FormItemContext-WqdLE0eK.js";import"./DownOutlined-BUTiwnGH.js";import"./isMobile-BbN7I0i_.js";import"./index-Nnij7LAV.js";const f=p=>(Y("data-v-b7db76f9"),p=p(),Z(),p),pe={class:"pt-4 w-screen flex justify-center px-4 relative"},ue=f(()=>t("p",null,"Some contents...",-1)),me=f(()=>t("p",null,"Some contents...",-1)),he=f(()=>t("p",null,"Some contents...",-1)),ve=f(()=>t("p",null,"Some contents...",-1)),fe=f(()=>t("p",null,"Some contents...",-1)),ke={class:"rounded overflow-x-auto w-full m-auto"},ge={cellspacing:"0",class:"tg w-full"},we={class:""},ye={key:0},be={colspan:"32",class:"no-border_background pt-4"},xe=["innerHTML"],Ce=f(()=>t("div",{class:"p-0 text-center w-full"},null,-1)),Se={class:"max-w-min"},$e={class:""},Be={class:"w-12"},De=["onClick"],Oe={class:"w-8"},Ae={class:"p-0 text-xs flex whitespace-nowrap"},Ie={class:"p-0 text-xs"},Me={class:"w-52"},Re=["title"],Ve={class:"text-left w-40 flex whitespace-nowrap"},je={key:0,class:""},Ne=["onDblclick"],Ue={key:1,class:"p-0"},ze=f(()=>t("div",{class:"p-0 text-xs flex whitespace-nowrap"},[t("div",{class:"p-0 text-xs"})],-1)),Ee={key:0,class:"p-0 relative"},He={class:""},Le={__name:"my_table",props:["data","settings","data_create"],emits:["save_update","save_create","save_delete","text_filter","view"],setup(p,{emit:H}){const k=p,L=H,c=ee();W(()=>{L("view")});const S=_(0),g=_(!1),x=_(!0);_({open_me:!1}),_(!1),_({});const T=_(1),F=_("");_({sort:T.value,col:"name",text:"name 122",search_text:F.value});const G=()=>{c.d({fun:"save_all",data:k.data},{route:"/api/teacher_marks_edit",msg:c.lang=="en"?"Done with success":"تم بنجاح",loading:!0,res_ver:"save_all",msg_error:"msg_error",sys_error:!0,log:!0,d_fun:"save_all"})},q=()=>{g.value=!g.value},J=u=>{};function Te(u,m){}return(u,m)=>{var I,M;const h=ne,O=_e,A=re,K=ie,P=ce,Q=de;return o(),l("div",pe,[a(O,{width:100,title:"Basic Drawer",placement:"top",open:u.open_fill_all2},{extra:n(()=>[a(h,{style:{"margin-right":"8px"}},{default:n(()=>[w("Cancel")]),_:1}),a(h,{type:"primary"},{default:n(()=>[w("Submit")]),_:1})]),default:n(()=>[ue,me]),_:1},8,["open"]),a(h,{type:"primary",onClick:m[0]||(m[0]=e=>g.value=!g.value)},{default:n(()=>[w("Open")]),_:1}),a(O,{height:200,open:g.value,"onUpdate:open":m[1]||(m[1]=e=>g.value=e),class:"custom-class","root-class-name":"root-class-name","root-style":{color:"blue"},style:{color:"red"},title:"Basic Drawer",placement:"top",onAfterOpenChange:u.afterOpenChange},{default:n(()=>[he,ve,fe]),_:1},8,["open","onAfterOpenChange"]),a(h,{class:"mx-4 scale-125 hover:scale-150 absolute -top-7",type:"primary",onClick:m[2]||(m[2]=e=>G()),shape:"circle"},{default:n(()=>[a(r(oe))]),_:1}),t("div",ke,[t("table",ge,[t("thead",we,[(I=k.settings)!=null&&I.title?(o(),l("tr",ye,[t("th",be,[t("div",{class:"p-0 text-center flex",innerHTML:(M=k.settings)==null?void 0:M.title},null,8,xe),Ce])])):b("",!0),t("tr",null,[t("th",null,[a(te,{class:"p-0 whitespace-nowrap hidden",lang:r(c).lang,data:k.settings.cols},{default:n(()=>[w("table_head_item err")]),_:1},8,["lang","data"]),w("# ")]),t("th",Se,i(r(c).lang=="en"?"Name":"الاسم"),1),(o(!0),l($,null,B(k.data[0].marks[0].my_subject_title,(e,d)=>N((o(),l("th",{class:"w-32",key:d},[a(h,{class:"mx-4 m-2",type:"text",onClick:C=>{S.value=d,x.value=!x.value},shape:"circle"},{default:n(()=>[a(r(E))]),_:2},1032,["onClick"]),a(A,{class:"cursor-pointer hover:scale-125",onClick:C=>q(),dir:"ltr",overflowCount:1e3,count:e.highest_mark,"number-style":{backgroundColor:"#fff",color:"#999",boxShadow:"0 0 0 1px #d9d9d9 inset"}},null,8,["onClick","count"]),t("div",$e,i(r(c).lang=="en"?e.en:e.ar),1)])),[[U,S.value==d||x.value]])),128)),t("th",Be,i(r(c).lang=="en"?"Sum":"المجموع"),1)])]),t("tbody",null,[(o(!0),l($,null,B(k.data,(e,d)=>{var C,R,V,j;return o(),l("tr",{key:d,class:D({even:(d+1)%2===0,selected:e.select==1}),onClick:X(s=>u.handleCtrlClick(d),["ctrl"])},[t("td",Oe,[t("div",Ae,[p.settings.can_edit?(o(),z(se,{key:0,class:"p-0",onRow_update:s=>u.$emit("row_update",e),onRow_delete:s=>u.$emit("row_delete",e),onRow_view:s=>void 0},{default:n(()=>[w("table_col_action err")]),_:2},1032,["onRow_update","onRow_delete","onRow_view"])):b("",!0),t("div",Ie,i(d+1),1)])]),t("td",Me,[t("div",{class:"p-0",title:r(c).lang=="en"?e.name_ar:e.name_en},i(r(c).lang=="en"?e.name_en:e.name_ar),9,Re)]),(o(!0),l($,null,B(e.marks,(s,y)=>N((o(),l("td",{key:y},[a(P,{trigger:"click"},{content:n(()=>[t("div",Ve,[a(h,{onClick:v=>s.edit=!s.edit,type:"primary",size:"small",class:"m-1 rounded px-1"},{default:n(()=>[a(r(E))]),_:2},1032,["onClick"]),a(K,{checked:s.attend,"onUpdate:checked":v=>s.attend=v,checkedValue:1,unCheckedValue:0,onChange:v=>s.attend==0?s.mark=null:null},null,8,["checked","onUpdate:checked","onChange"])])]),default:n(()=>[p.settings.can_edit?(o(),z(h,{key:0,type:"text",size:"small",style:{padding:"0px"},class:"noprint"},{default:n(()=>[a(r(le),{style:{padding:"0px",margin:"0px",width:"12px"}})]),_:1})):b("",!0)]),_:2},1024),s.attend==1?(o(),l("div",je,[a(A,{dot:s.my_subject_title[y].highest_mark*.8>s.mark&&s.mark},{default:n(()=>[a(Q,{disabled:s.attend==0,class:D(s.mark==null?"border-gray-200 bg-gray-100":"border-green-500"),value:s.mark,"onUpdate:value":v=>s.mark=v,min:0,max:s.my_subject_title[y].highest_mark,status:s.my_subject_title[y].highest_mark*.8>s.mark?"error":"",onInput:v=>J(s)},null,8,["disabled","class","value","onUpdate:value","max","status","onInput"])]),_:2},1032,["dot"]),s.edit==!1?(o(),l("div",{key:0,class:"px-2 w-12 h-6 red",onDblclick:v=>s.edit=!0},i(s.mark),41,Ne)):b("",!0)])):(o(),l("div",Ue,i("Absent"))),ze])),[[U,S.value==y||x.value]])),128)),t("td",null,[(C=e==null?void 0:e.mark_sum)!=null&&C.mark?(o(),l("div",Ee,[t("div",{class:D(["h2 w-6 mx-8 p-1 text-xs red rounded-full text-center",((R=e==null?void 0:e.mark_sum)==null?void 0:R.mark)>90?"green":"red"])},i((V=e==null?void 0:e.mark_sum)==null?void 0:V.letter),3),t("div",He,i((j=e==null?void 0:e.mark_sum)==null?void 0:j.mark),1)])):b("",!0)])],10,De)}),128))])])])])}}},gt=ae(Le,[["__scopeId","data-v-b7db76f9"]]);export{gt as default};
