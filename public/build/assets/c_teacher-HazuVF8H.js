import{d as n,y as ae,m as le,aa as ue,a2 as _e,o as d,e as h,a as s,t as _,b as r,w as a,g as i,u as l,F as de,h as ie,q as pe,n as ce,c as w,f as $,p as P}from"./app-DuCM5fMY.js";import{u as me}from"./appstore-i93wDcAb.js";import T from"./update-DCSVI8Vr.js";import{B as fe}from"./index-lgGGxHJv.js";import{M as ve}from"./index-CfxGvgOQ.js";import{P as ge}from"./PlusOutlined-CuKesnqQ.js";import{E as ye}from"./EditOutlined-CQNci86I.js";import{M as z}from"./MoreOutlined-Dn8n-63j.js";import{_ as he,a as we,M as xe}from"./index-BPASUVML.js";import{D as ke}from"./index-CSutdnUg.js";import{_ as be}from"./FormItem-CXqkb-Sw.js";import{_ as Ce}from"./Search-DKdOCY9h.js";import{_ as $e}from"./index-C6upw1zv.js";import{_ as De}from"./index-5o59kPGR.js";import"./LoadingOutlined-C7QN_DUS.js";import"./AntdIcon-9khPcjWE.js";import"./CloseOutlined-CxVmtEZu.js";import"./ExclamationCircleFilled-B0V7oa9j.js";import"./CloseCircleFilled-BQZlZZal.js";import"./index-DGrp3v0u.js";import"./motion-DAWOpLEP.js";import"./useState-BLwVHUq_.js";import"./hasIn-DNGWpuSq.js";import"./_arrayIncludes-BICyThra.js";import"./collapseMotion-iRHk9BZf.js";import"./_flatRest-18Z7FUzD.js";import"./isPlainObject-CkZT4Lg7.js";import"./FormItemContext-WqdLE0eK.js";import"./index-BSMZMoC6.js";import"./index-Nnij7LAV.js";import"./index-Da8uXs_6.js";import"./EyeOutlined-CMaT_qmz.js";import"./KeyCode-B_gOgbN6.js";import"./pickAttrs-BzBa2xXa.js";import"./styleChecker-Bo7eabvc.js";import"./index-CLPL0Y6L.js";import"./shallowequal-BtM4LMc3.js";import"./slide-B7qp9WAr.js";import"./move-C_MpYLjS.js";import"./DownOutlined-BUTiwnGH.js";import"./isMobile-BbN7I0i_.js";const Be={class:"hidden h-0"},qe={class:"rounded overflow-x-auto w-full m-auto"},Me={cellspacing:"0",class:"tg w-full"},Ae={class:""},Ne=s("th",null,"#",-1),Oe={class:"w-12"},Ue={class:"w-80"},Ee={class:"p-0 flex"},Ve={class:"p-0"},Se=s("div",{class:"p-0 text-xs text-gray-300"}," filter Ar/En ",-1),Fe={class:"w-8"},Ke={class:"p-0 text-xs flex whitespace-nowrap"},Pe={class:"p-0 text-xs"},Te={key:1,class:"p-0"},ze={class:"w-24"},Le={class:"p-0 flex m-auto"},je={class:"p-4 flex gap-2 cursor-default"},Ge=["title"],He={class:"p-0"},Ie={class:"p-0"},Vt={__name:"c_teacher",setup(Je){var D,B;const t=me(),m=n("/api/school_admin/c_teacher");n({}),n(!1),n(null),n(null);const L=n((B=(D=t.res)==null?void 0:D.my_teachers)==null?void 0:B.c_teachers[0].school_id);n(null);const x=n({});ae(()=>{});const k=n(null);n("name");const j=(c,o,u)=>{u==null||u==""||t.d({fun:"update_col",data:{id:c,col:o,val:u}},{route:m.value,msg:t.lang=="en"?"Done with success":"تم بنجاح",loading:!1,res_ver:"delete",msg_error:"msg_error",sys_error:!0,log:!0,d_fun:"delete"})},g=n(!1),f=n(!1),b=n({}),G=c=>{b.value=c,f.value=!f.value},H=c=>{confirm("Are you sure!")&&t.d({fun:"delete",data:c},{route:m.value,msg:t.lang=="en"?"Done with success":"تم بنجاح",loading:!0,res_ver:"delete",msg_error:"msg_error",sys_error:!0,log:!0,d_fun:"delete"})},I=()=>{confirm("Are you sure!")&&t.d({fun:"update",data:b.value},{route:m.value,msg:t.lang=="en"?"Done with success":"تم بنجاح",loading:!0,res_ver:"update",msg_error:"msg_error",sys_error:!0,log:!0,d_fun:"update"})},y=n(!1),J=()=>{x.value.school_id=L.value,confirm("Are you sure!")&&t.d({fun:"insert",data:x.value},{route:m.value,msg:t.lang=="en"?"Done with success":"تم بنجاح",loading:!0,res_ver:"insert",msg_error:"msg_error",sys_error:!0,log:!0,d_fun:"insert"})};n(null),n(null),n(!1),n(!1);const v=()=>{t.d({fun:"show",data:k.value},{route:m.value,msg:t.lang=="en"?"Done with success":"تم بنجاح",loading:!0,res_ver:"my_teachers",msg_error:"msg_error",sys_error:!0,log:!0,d_fun:"my_teachers"})},Q=n("view"),R=n({my_mood:"view"});n({en:"",ar:"",notes:null});const W=le(()=>(t.d_fun=="update"&&(f.value=!1,v()),t.d_fun=="delete"&&v(),t.d_fun=="create"&&(Q.value="view",R.value.my_mood="view"),t.d_fun=="save_all"&&v(),t.d_counter));return n([]),(c,o)=>{var N,O,U,E,V,S,F;const u=fe,X=Ce,Y=be,Z=$e,ee=ue("n-popover"),te=De,q=he,oe=we,se=xe,ne=ke,M=ve,A=_e("clipboard");return d(),h("div",null,[s("div",Be,_(W.value),1),r(u,{type:"primary",shape:"circle",onClick:o[0]||(o[0]=e=>y.value=!y.value)},{default:a(()=>[r(l(ge))]),_:1}),s("div",qe,[s("table",Me,[s("thead",Ae,[s("tr",null,[Ne,s("th",Oe,[r(u,{type:"primary",shape:"circle",onClick:o[1]||(o[1]=e=>g.value=!g.value)},{default:a(()=>[r(l(ye))]),_:1}),i(" "+_(l(t).lang=="en"?"id  ":" ترتيب"),1)]),s("th",Ue,[s("div",Ee,[s("div",Ve,[r(Y,{"has-feedback":"",name:"ar"},{default:a(()=>[Se,r(X,{onKeyup:o[2]||(o[2]=pe(e=>v(),["enter"])),value:k.value,"onUpdate:value":o[3]||(o[3]=e=>k.value=e),type:"text",autocomplete:"off",onSearch:o[4]||(o[4]=e=>v())},null,8,["value"])]),_:1})])]),i(" "+_(l(t).lang=="en"?"Name":"الاسم"),1)]),s("th",null," count:"+_((E=(U=(O=(N=l(t))==null?void 0:N.res)==null?void 0:O.my_teachers)==null?void 0:U.c_teachers)==null?void 0:E.length),1)])]),s("tbody",null,[(d(!0),h(de,null,ie((F=(S=(V=l(t))==null?void 0:V.res)==null?void 0:S.my_teachers)==null?void 0:F.c_teachers,(e,C)=>(d(),h("tr",{key:C,class:ce({even:(C+1)%2===0,selected:e.select==1})},[s("td",Fe,[s("div",Ke,[s("div",Pe,_(C+1),1)])]),s("td",null,[g.value?(d(),w(Z,{key:0,value:e.sequence,"onUpdate:value":p=>e.sequence=p,onBlur:p=>j(e.id,"sequence",e.sequence)},null,8,["value","onUpdate:value","onBlur"])):$("",!0),g.value?$("",!0):(d(),h("div",Te,_(e.sequence),1))]),s("td",ze,[s("div",Le,[r(ee,{trigger:"click"},{trigger:a(()=>[r(u,{type:"text",class:"p-1 text-white"},{default:a(()=>[r(l(z),{class:"p-1 rounded-full bg-blue-300 hover:scale-150"})]),_:1})]),default:a(()=>{var p,K;return[s("div",je,[P((d(),w(u,{onClick:o[5]||(o[5]=re=>l(t).msg.info("username copied")),type:"primary"},{default:a(()=>[i("copy username ")]),_:2},1024)),[[A,(p=e.my_user)==null?void 0:p.email,"copy"]]),P((d(),w(u,{onClick:o[6]||(o[6]=re=>l(t).msg.info("password copied")),type:"primary"},{default:a(()=>[i("copy password ")]),_:2},1024)),[[A,(K=e.my_user)==null?void 0:K.my_password,"copy"]])])]}),_:2},1024),s("div",{class:"pt-2 flex",title:l(t).lang=="en"?e.ar+" "+e.detail:e.en+" "+e.detail},[s("div",He,_(l(t).lang=="en"?e.en:e.ar),1),s("div",Ie,[(e==null?void 0:e.paid)==0?(d(),w(te,{key:0,class:"px-1 py-0 m-0 text-center text-xs red",message:"Blocked",type:(e==null?void 0:e.paid)==0?"error":"success"},null,8,["type"])):$("",!0)])],8,Ge)])]),s("td",null,[r(ne,null,{overlay:a(()=>[r(se,null,{default:a(()=>[r(q,{key:"0",onClick:p=>G(e)},{default:a(()=>[i(_(l(t).tr("edit_data")),1)]),_:2},1032,["onClick"]),r(oe),r(q,{key:"3",onClick:p=>H(e.id)},{default:a(()=>[i(_(l(t).tr("delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:a(()=>[r(u,{type:"text",class:"p-0 text-white"},{default:a(()=>[r(l(z),{class:"p-1 rounded-full bg-blue-300 hover:scale-150"})]),_:1})]),_:2},1024)])],2))),128))])]),r(M,{maskClosable:!1,open:f.value,"onUpdate:open":o[7]||(o[7]=e=>f.value=e),title:"",onOk:o[8]||(o[8]=e=>I())},{default:a(()=>[r(T,{data:b.value},{default:a(()=>[i("update err")]),_:1},8,["data"])]),_:1},8,["open"]),r(M,{title:l(t).lang=="en"?"New Teacher ":"معلم جديد",open:y.value,"onUpdate:open":o[9]||(o[9]=e=>y.value=e),onOk:o[10]||(o[10]=e=>J()),class:"p-2"},{default:a(()=>[r(T,{data:x.value},{default:a(()=>[i("update err")]),_:1},8,["data"])]),_:1},8,["title","open"])])])}}};export{Vt as default};
