import{_ as a,d as I,u as Y,w as te,P as V,x as le,i as ne,e as j,y as oe}from"./LoadingOutlined-C7QN_DUS.js";import{K as U,m as i,s as se,d as E,x as q,z as ue,b as c,B as ae,p as re,A as ie}from"./app-DuCM5fMY.js";import{c as G}from"./motion-DAWOpLEP.js";import{_ as R,u as ce}from"./Ribbon-Tv3FPnrK.js";import{i as fe}from"./index-CLPL0Y6L.js";function K(e){let{prefixCls:s,value:n,current:t,offset:l=0}=e,r;return l&&(r={position:"absolute",top:`${l}00%`,left:0}),c("p",{style:r,class:I(`${s}-only-unit`,{current:t})},[n])}function ve(e,s,n){let t=e,l=0;for(;(t+10)%10!==s;)t+=n,l+=n;return l}const de=U({compatConfig:{MODE:3},name:"SingleNumber",props:{prefixCls:String,value:String,count:Number},setup(e){const s=i(()=>Number(e.value)),n=i(()=>Math.abs(e.count)),t=se({prevValue:s.value,prevCount:n.value}),l=()=>{t.prevValue=s.value,t.prevCount=n.value},r=E();return q(s,()=>{clearTimeout(r.value),r.value=setTimeout(()=>{l()},1e3)},{flush:"post"}),ue(()=>{clearTimeout(r.value)}),()=>{let f,S={};const u=s.value;if(t.prevValue===u||Number.isNaN(u)||Number.isNaN(t.prevValue))f=[K(a(a({},e),{current:!0}))],S={transition:"none"};else{f=[];const b=u+10,$=[];for(let o=u;o<=b;o+=1)$.push(o);const d=$.findIndex(o=>o%10===t.prevValue);f=$.map((o,g)=>{const C=o%10;return K(a(a({},e),{value:C,offset:g-d,current:g===d}))});const v=t.prevCount<n.value?1:-1;S={transform:`translateY(${-ve(t.prevValue,u,v)}00%)`}}return c("span",{class:`${e.prefixCls}-only`,style:S,onTransitionend:()=>l()},[f])}}});var me=function(e,s){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)s.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]]);return n};const ye={prefixCls:String,count:V.any,component:String,title:V.any,show:Boolean},be=U({compatConfig:{MODE:3},name:"ScrollNumber",inheritAttrs:!1,props:ye,setup(e,s){let{attrs:n,slots:t}=s;const{prefixCls:l}=Y("scroll-number",e);return()=>{var r;const f=a(a({},e),n),{prefixCls:S,count:u,title:b,show:$,component:d="sup",class:v,style:o}=f,g=me(f,["prefixCls","count","title","show","component","class","style"]),C=a(a({},g),{style:o,"data-show":e.show,class:I(l.value,v),title:b});let p=u;if(u&&Number(u)%1===0){const x=String(u).split("");p=x.map((B,D)=>c(de,{prefixCls:l.value,count:Number(u),value:B,key:x.length-D},null))}o&&o.borderColor&&(C.style=a(a({},o),{boxShadow:`0 0 0 1px ${o.borderColor} inset`}));const m=te((r=t.default)===null||r===void 0?void 0:r.call(t));return m&&m.length?G(m,{class:I(`${l.value}-custom-component`)},!1):c(d,C,{default:()=>[p]})}}}),ge=e=>!isNaN(parseFloat(e))&&isFinite(e),Ce=()=>({count:V.any.def(null),showZero:{type:Boolean,default:void 0},overflowCount:{type:Number,default:99},dot:{type:Boolean,default:void 0},prefixCls:String,scrollNumberPrefixCls:String,status:{type:String},size:{type:String,default:"default"},color:String,text:V.any,offset:Array,numberStyle:{type:Object,default:void 0},title:String}),Z=U({compatConfig:{MODE:3},name:"ABadge",Ribbon:R,inheritAttrs:!1,props:Ce(),slots:Object,setup(e,s){let{slots:n,attrs:t}=s;const{prefixCls:l,direction:r}=Y("badge",e),[f,S]=ce(l),u=i(()=>e.count>e.overflowCount?`${e.overflowCount}+`:e.count),b=i(()=>u.value==="0"||u.value===0),$=i(()=>e.count===null||b.value&&!e.showZero),d=i(()=>(e.status!==null&&e.status!==void 0||e.color!==null&&e.color!==void 0)&&$.value),v=i(()=>e.dot&&!b.value),o=i(()=>v.value?"":u.value),g=i(()=>(o.value===null||o.value===void 0||o.value===""||b.value&&!e.showZero)&&!v.value),C=E(e.count),p=E(o.value),m=E(v.value);q([()=>e.count,o,v],()=>{g.value||(C.value=e.count,p.value=o.value,m.value=v.value)},{immediate:!0});const x=i(()=>fe(e.color,!1)),B=i(()=>({[`${l.value}-status-dot`]:d.value,[`${l.value}-status-${e.status}`]:!!e.status,[`${l.value}-color-${e.color}`]:x.value})),D=i(()=>e.color&&!x.value?{background:e.color,color:e.color}:{}),J=i(()=>({[`${l.value}-dot`]:m.value,[`${l.value}-count`]:!m.value,[`${l.value}-count-sm`]:e.size==="small",[`${l.value}-multiple-words`]:!m.value&&p.value&&p.value.toString().length>1,[`${l.value}-status-${e.status}`]:!!e.status,[`${l.value}-color-${e.color}`]:x.value}));return()=>{var _,A;const{offset:w,title:z,color:F}=e,L=t.style,k=le(n,e,"text"),N=l.value,y=C.value;let h=ne((_=n.default)===null||_===void 0?void 0:_.call(n));h=h.length?h:null;const M=!!(!g.value||n.count),O=(()=>{if(!w)return a({},L);const P={marginTop:ge(w[1])?`${w[1]}px`:w[1]};return r.value==="rtl"?P.left=`${parseInt(w[0],10)}px`:P.right=`${-parseInt(w[0],10)}px`,a(a({},P),L)})(),Q=z??(typeof y=="string"||typeof y=="number"?y:void 0),W=M||!k?null:c("span",{class:`${N}-status-text`},[k]),X=typeof y=="object"||y===void 0&&n.count?G(y??((A=n.count)===null||A===void 0?void 0:A.call(n)),{style:O},!1):null,H=I(N,{[`${N}-status`]:d.value,[`${N}-not-a-wrapper`]:!h,[`${N}-rtl`]:r.value==="rtl"},t.class,S.value);if(!h&&d.value){const P=O.color;return f(c("span",j(j({},t),{},{class:H,style:O}),[c("span",{class:B.value,style:D.value},null),c("span",{style:{color:P},class:`${N}-status-text`},[k])]))}const ee=oe(h?`${N}-zoom`:"",{appear:!1});let T=a(a({},O),e.numberStyle);return F&&!x.value&&(T=T||{},T.background=F),f(c("span",j(j({},t),{},{class:H}),[h,c(ae,ee,{default:()=>[re(c(be,{prefixCls:e.scrollNumberPrefixCls,show:M,class:J.value,count:p.value,title:Q,style:T,key:"scrollNumber"},{default:()=>[X]}),[[ie,M]])]}),W]))}}});Z.install=function(e){return e.component(Z.name,Z),e.component(R.name,R),e};export{Z as B,ge as i};
