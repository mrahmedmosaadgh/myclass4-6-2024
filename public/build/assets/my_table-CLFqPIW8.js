import{y as se,d as _,o,e as r,b as a,w as n,a as s,f as x,u as l,g as w,t as d,F as $,h as B,p as T,A as F,n as D,i as ae,c as G,G as ne,H as oe}from"./app-DuCM5fMY.js";import{u as re}from"./appstore-i93wDcAb.js";import le from"./table_head_col_choose-BGw95TSR.js";import _e from"./table_col_action-Br2HXC6H.js";import{_ as de}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{B as ie}from"./index-lgGGxHJv.js";import{S as ce}from"./SaveOutlined-C-xOJ6-3.js";import{E as q}from"./EditOutlined-CQNci86I.js";import{M as pe}from"./MoreOutlined-Dn8n-63j.js";import{B as ue}from"./index-XB80zlEa.js";import{_ as me}from"./index-RfeOYOn2.js";import{_ as he}from"./index-C6upw1zv.js";import{_ as ve}from"./index-BfPfFT6o.js";import{_ as fe}from"./index-D9SNFcq0.js";import"./LoadingOutlined-C7QN_DUS.js";import"./AntdIcon-9khPcjWE.js";import"./CloseOutlined-CxVmtEZu.js";import"./ExclamationCircleFilled-B0V7oa9j.js";import"./CloseCircleFilled-BQZlZZal.js";import"./EyeOutlined-CMaT_qmz.js";import"./DeleteOutlined-B394q2Md.js";import"./useState-BLwVHUq_.js";import"./motion-DAWOpLEP.js";import"./Ribbon-Tv3FPnrK.js";import"./index-CLPL0Y6L.js";import"./KeyCode-B_gOgbN6.js";import"./FormItemContext-WqdLE0eK.js";import"./DownOutlined-BUTiwnGH.js";import"./isMobile-BbN7I0i_.js";import"./index-Nnij7LAV.js";const f=p=>(ne("data-v-1ddcfadd"),p=p(),oe(),p),ke={class:"pt-4 w-screen flex justify-center px-4 relative"},ge=f(()=>s("p",null,"Some contents...",-1)),we=f(()=>s("p",null,"Some contents...",-1)),ye=f(()=>s("p",null,"Some contents...",-1)),xe=f(()=>s("p",null,"Some contents...",-1)),be=f(()=>s("p",null,"Some contents...",-1)),Ce={class:"rounded overflow-x-auto w-full m-auto"},Se={cellspacing:"0",class:"tg w-full"},$e={class:""},Be={key:0},De={colspan:"32",class:"no-border_background pt-4"},Oe=["innerHTML"],je=f(()=>s("div",{class:"p-0 text-center w-full"},null,-1)),Ae={class:"max-w-min"},Ie={class:""},Me={class:"w-12"},Re=["onClick"],Ve={class:"w-8"},Ne={class:"p-0 text-xs flex whitespace-nowrap"},Ue={class:"p-0 text-xs"},ze={class:"w-52"},Ee=["title"],He={class:"text-left w-40 flex whitespace-nowrap"},Le={key:0,class:""},Te=["onDblclick"],Fe={key:1,class:"p-0"},Ge=f(()=>s("div",{class:"p-0 text-xs flex whitespace-nowrap"},[s("div",{class:"p-0 text-xs"})],-1)),qe={key:0,class:"p-0 relative"},Je={class:""},Ke={__name:"my_table",props:["data","settings","data_create"],emits:["save_update","save_create","save_delete","text_filter","view"],setup(p,{emit:J}){const k=p,K=J,i=re();se(()=>{K("view")});const S=_(0),g=_(!1),b=_(!0);_({open_me:!1}),_(!1),_({});const P=_(1),Q=_("");_({sort:P.value,col:"name",text:"name 122",search_text:Q.value});const W=()=>{i.d({fun:"save_all",data:k.data},{route:"/api/teacher_marks_edit",msg:i.lang=="en"?"Done with success":"تم بنجاح",loading:!0,res_ver:"save_all",msg_error:"msg_error",sys_error:!0,log:!0,d_fun:"save_all"})},X=()=>{g.value=!g.value},Y=u=>{};function Pe(u,m){}return(u,m)=>{var A,I;const h=ie,O=ve,j=ue,Z=me,ee=fe,te=he;return o(),r("div",ke,[a(O,{width:100,title:"Basic Drawer",placement:"top",open:u.open_fill_all2},{extra:n(()=>[a(h,{style:{"margin-right":"8px"}},{default:n(()=>[w("Cancel")]),_:1}),a(h,{type:"primary"},{default:n(()=>[w("Submit")]),_:1})]),default:n(()=>[ge,we]),_:1},8,["open"]),a(h,{type:"primary",onClick:m[0]||(m[0]=t=>g.value=!g.value)},{default:n(()=>[w("Open")]),_:1}),a(O,{height:200,open:g.value,"onUpdate:open":m[1]||(m[1]=t=>g.value=t),class:"custom-class","root-class-name":"root-class-name","root-style":{color:"blue"},style:{color:"red"},title:"Basic Drawer",placement:"top",onAfterOpenChange:u.afterOpenChange},{default:n(()=>[ye,xe,be]),_:1},8,["open","onAfterOpenChange"]),a(h,{class:"mx-4 scale-125 hover:scale-150 absolute -top-7",type:"primary",onClick:m[2]||(m[2]=t=>W()),shape:"circle"},{default:n(()=>[a(l(ce))]),_:1}),s("div",Ce,[s("table",Se,[s("thead",$e,[(A=k.settings)!=null&&A.title?(o(),r("tr",Be,[s("th",De,[s("div",{class:"p-0 text-center flex",innerHTML:(I=k.settings)==null?void 0:I.title},null,8,Oe),je])])):x("",!0),s("tr",null,[s("th",null,[a(le,{class:"p-0 whitespace-nowrap hidden",lang:l(i).lang,data:k.settings.cols},{default:n(()=>[w("table_head_item err")]),_:1},8,["lang","data"]),w("# ")]),s("th",Ae,d(l(i).lang=="en"?"Name":"الاسم"),1),(o(!0),r($,null,B(k.data[0].marks[0].my_subject_title,(t,c)=>T((o(),r("th",{class:"w-32",key:c},[a(h,{class:"mx-4 m-2",type:"text",onClick:C=>{S.value=c,b.value=!b.value},shape:"circle"},{default:n(()=>[a(l(q))]),_:2},1032,["onClick"]),a(j,{class:"cursor-pointer hover:scale-125",onClick:C=>X(),dir:"ltr",overflowCount:1e3,count:t.highest_mark,"number-style":{backgroundColor:"#fff",color:"#999",boxShadow:"0 0 0 1px #d9d9d9 inset"}},null,8,["onClick","count"]),s("div",Ie,d(l(i).lang=="en"?t.en:t.ar),1)])),[[F,S.value==c||b.value]])),128)),s("th",Me,d(l(i).lang=="en"?"Sum":"المجموع"),1)])]),s("tbody",null,[(o(!0),r($,null,B(k.data,(t,c)=>{var C,M,R,V;return o(),r("tr",{key:c,class:D({even:(c+1)%2===0,selected:t.select==1}),onClick:ae(e=>u.handleCtrlClick(c),["ctrl"])},[s("td",Ve,[s("div",Ne,[p.settings.can_edit?(o(),G(_e,{key:0,class:"p-0",onRow_update:e=>u.$emit("row_update",t),onRow_delete:e=>u.$emit("row_delete",t),onRow_view:e=>void 0},{default:n(()=>[w("table_col_action err")]),_:2},1032,["onRow_update","onRow_delete","onRow_view"])):x("",!0),s("div",Ue,d(c+1),1)])]),s("td",ze,[s("div",{class:"p-0",title:l(i).lang=="en"?t.name_ar:t.name_en},d(l(i).lang=="en"?t.name_en:t.name_ar),9,Ee)]),(o(!0),r($,null,B(t.marks,(e,y)=>{var N,U;return T((o(),r("td",{key:y},[a(ee,{trigger:"click"},{content:n(()=>[s("div",He,[a(h,{onClick:v=>e.edit=!e.edit,type:"primary",size:"small",class:"m-1 rounded px-1"},{default:n(()=>[a(l(q))]),_:2},1032,["onClick"]),a(Z,{checked:e.attend,"onUpdate:checked":v=>e.attend=v,checkedValue:1,unCheckedValue:0,onChange:v=>e.attend==0?e.mark=null:null},null,8,["checked","onUpdate:checked","onChange"])])]),default:n(()=>[p.settings.can_edit?(o(),G(h,{key:0,type:"text",size:"small",style:{padding:"0px"},class:"noprint"},{default:n(()=>[a(l(pe),{style:{padding:"0px",margin:"0px",width:"12px"}})]),_:1})):x("",!0)]),_:2},1024),e.attend==1&&e.my_subject_title?(o(),r("div",Le,[a(j,{dot:((U=(N=e==null?void 0:e.my_subject_title)==null?void 0:N[y])==null?void 0:U.highest_mark)*.8>e.mark&&e.mark},{default:n(()=>{var v,z,E,H;return[a(te,{disabled:e.attend==0,class:D(e.mark==null?"border-gray-200 bg-gray-100":"border-green-500"),value:e.mark,"onUpdate:value":L=>e.mark=L,min:0,max:(z=(v=e==null?void 0:e.my_subject_title)==null?void 0:v[y])==null?void 0:z.highest_mark,status:((H=(E=e==null?void 0:e.my_subject_title)==null?void 0:E[y])==null?void 0:H.highest_mark)*.8>e.mark?"error":"",onInput:L=>Y(e)},null,8,["disabled","class","value","onUpdate:value","max","status","onInput"])]}),_:2},1032,["dot"]),e.edit==!1?(o(),r("div",{key:0,class:"px-2 w-12 h-6 red",onDblclick:v=>e.edit=!0},d(e.mark),41,Te)):x("",!0)])):(o(),r("div",Fe,d("Absent"))),Ge])),[[F,S.value==y||b.value]])}),128)),s("td",null,[(C=t==null?void 0:t.mark_sum)!=null&&C.mark?(o(),r("div",qe,[s("div",{class:D(["h2 w-6 mx-8 p-1 text-xs red rounded-full text-center",((M=t==null?void 0:t.mark_sum)==null?void 0:M.mark)>90?"green":"red"])},d((R=t==null?void 0:t.mark_sum)==null?void 0:R.letter),3),s("div",Je,d((V=t==null?void 0:t.mark_sum)==null?void 0:V.mark),1)])):x("",!0)])],10,Re)}),128))])])])])}}},St=de(Ke,[["__scopeId","data-v-1ddcfadd"]]);export{St as default};
